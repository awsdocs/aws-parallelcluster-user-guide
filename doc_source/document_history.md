# Document history<a name="document_history"></a>

The following table describes the major updates and new features for the *AWS ParallelCluster User Guide*\. We also update the documentation frequently to address the feedback that you send us\.

| Change | Description | Date | 
| --- |--- |--- |
| [AWS ParallelCluster version 3\.2\.0 released](https://docs.aws.amazon.com/parallelcluster/latest/ug/document_history.html#aws-parallelcluster-3.2.0) | AWS ParallelCluster version 3\.2\.0 released\. Enhancements:  Add support for [memory\-based scheduling](slurm-mem-based-scheduling-v3.md) in Slurm\.   Configure compute nodes real memory in the Slurm cluster configuration\.   Add new configuration parameter [`Scheduling`](Scheduling-v3.md) / [`SlurmSettings`](Scheduling-v3.md#Scheduling-v3-SlurmSettings) / [`EnableMemoryBasedScheduling`](Scheduling-v3.md#yaml-Scheduling-SlurmSettings-EnableMemoryBasedScheduling) to enable memory\-based scheduling in Slurm\.   Add new configuration parameter [`Scheduling`](Scheduling-v3.md) / [`SlurmQueues`](Scheduling-v3.md#Scheduling-v3-SlurmQueues) / [`ComputeResources`](Scheduling-v3.md#Scheduling-v3-SlurmQueues-ComputeResources) / [`SchedulableMemory`](Scheduling-v3.md#yaml-Scheduling-SlurmQueues-ComputeResources-SchedulableMemory) to override the default value of the memory seen by the scheduler on compute nodes\.     Improve flexibility on cluster configuration updates to avoid the stop and start of the entire cluster whenever possible\. Add new configuration parameter [`Scheduling`](Scheduling-v3.md) / [`SlurmSettings`](Scheduling-v3.md#Scheduling-v3-SlurmSettings) / [`QueueUpdateStrategy`](Scheduling-v3.md#yaml-Scheduling-SlurmSettings-QueueUpdateStrategy) to set the preferred strategy to use when compute nodes need a configuration update and replacement\.   Improve failover mechanism over available compute resources when hitting insufficient capacity issues with EC2 instances\. [Disable compute nodes by a configurable amount of time](slurm-short-capacity-fail-mode-v3.md) when a node launch fails due to insufficient capacity\.   Add support to mount existing [FSx for ONTAP](SharedStorage-v3.md#SharedStorage-v3-FsxOntapSettings) and [FSx for OpenZFS](SharedStorage-v3.md#SharedStorage-v3-FsxOpenZfsSettings) file systems\.   Add support to mount multiple instances of existing [Amazon Elastic File Systems, FSx for Lustre, FSx for ONTAP, and FSx for OpenZFS](SharedStorage-v3.md) file systems\.   Add support for [FSx for Lustre Persistent\_2 deployment type](SharedStorage-v3.md#yaml-SharedStorage-FsxLustreSettings-DeploymentType) when creating a new file system\.   Prompt user to enable EFA for supported instance types when using the [`pcluster configure`](pcluster.configure-v3.md) wizard\.   Add support for rebooting compute nodes using Slurm\.   Improve handling of Slurm power states to also account for manual powering down of nodes\.   Install NVIDIA GDRCopy 2\.3 into the product AMIs to enable low\-latency GPU memory copy\.   Changes:  Upgrade EFA installer to version 1\.17\.2\.   EFA driver: `efa-1.16.0-1`   EFA configuration: `efa-config-1.10-1`   EFA profile: `efa-profile-1.5-1`   Libfabric: `libfabric-aws-1.16.0~amzn2.0-1`   RDMA core: `rdma-core-41.0-2`   Open MPI: `openmpi40-aws-4.1.4-2`     Upgrade NICE DCV to version 2022\.0\-12760\.   Upgrade NVIDIA driver to version 470\.129\.06\.   Upgrade NVIDIA Fabric Manager to version 470\.129\.06\.   Change default EBS volume types from gp2 to gp3 in both the root and additional volumes\.   Changes to FSx for Lustre file systems created by AWS ParallelCluster:   Change the default deployment type to `Scratch_2`\.   Change the Lustre server version to `2.12`\.     Doesn't require [`PlacementGroup`](Scheduling-v3.md#yaml-Scheduling-SlurmQueues-Networking-PlacementGroup) / [`Enabled`](Scheduling-v3.md#yaml-Scheduling-SlurmQueues-Networking-PlacementGroup-Enabled) to be set to `true` when passing an existing `PlacementGroup` / `Id`\.   Doesn't allow setting `PlacementGroup` / `Id` when `PlacementGroup` / `Enabled` is explicitly set to `false`\.   Add `parallelcluster:cluster-name` tag to all resources created by AWS ParallelCluster\.   Add `lambda:ListTags` and `lambda:UntagResource` to `ParallelClusterUserRole` used by the AWS ParallelCluster API stack for cluster update\.   Restrict IPv6 access to `IMDS` to root and cluster admin users only, when configuration parameter `HeadNode` / `Imds` / `Secured` is enabled\.   With a custom AMI, use the AMI root volume size instead of the ParallelCluster default of 35 GiB\. The value can be changed in cluster configuration file\.   Automatic disabling of the compute fleet when the configuration parameter `Scheduling` / `SlurmQueues` / `ComputeResources` / `SpotPrice` is lower than the minimum required Spot request fulfillment price\.   Show `requested_value` and `current_value` values in the change set when adding or removing a section during an update\.   Disable `aws-ubuntu-eni-helper` service, available in Deep Learning AMIs, to avoid conflicts with `configure_nw_interface.sh` when configuring instances with multiple network cards\.   Remove support for Python 3\.6\.   Set MTU to 9001 for all the network interfaces when configuring instances with multiple network cards\.   Remove the trailing dot when configuring the compute node FQDN\.   Manage static nodes in `POWERING_DOWN`\.   Doesn't replace dynamic node in `POWER_DOWN` as jobs may be still running\.   Restart `clustermgtd` and `slurmctld` daemons at cluster update time only when `Scheduling` parameters are updated in the cluster configuration\.   Update `slurmctld` and `slurmd` `systemd` service files\.   Restrict IPv6 access to IMDS to root and cluster admin users only, when configuration parameter `HeadNode` / `Imds` / `Secured` is enabled\.   Set Slurm configuration `AuthInfo=cred_expire=70` to reduce the time requeued jobs must wait before starting again when nodes are not available\.   Upgrade third\-party cookbook dependencies:   apt\-7\.4\.2 \(from apt\-7\.4\.0\)   line\-4\.5\.2 \(from line\-4\.0\.1\)   openssh\-2\.10\.3 \(from openssh\-2\.9\.1\)   pyenv\-3\.5\.1 \(from pyenv\-3\.4\.2\)   selinux\-6\.0\.4 \(from selinux\-3\.1\.1\)   yum\-7\.4\.0 \(from yum\-6\.1\.1\)   yum\-epel\-4\.5\.0 \(from yum\-epel\-4\.1\.2\)     Bug fixes:  Fix the default behavior to skip the AWS ParallelCluster validation and test steps when building a custom AMI\.   Fix file handle leak in `computemgtd`\.   Fix race condition that was sporadically causing launched instances to be immediately terminated because they were not yet available in the EC2 DescribeInstances response\.   Fix support for the `DisableSimultaneousMultithreading` parameter on instance types with Arm processors\.   Fix AWS ParallelCluster API stack update failure when upgrading from a previous version\. Add resource pattern used for the `ListImagePipelineImages` Action in the `EcrImageDeletionLambdaRole`\.   Fix AWS ParallelCluster API adding missing permissions needed to import or export from Amazon S3 when creating an FSx for Lustre file system\.  For details of the changes, see the `CHANGELOG` files for the [aws\-parallelcluster](https://github.com/aws/aws-parallelcluster/blob/v3.2.0/CHANGELOG.md), [aws\-parallelcluster\-cookbook](https://github.com/aws/aws-parallelcluster-cookbook/blob/v3.2.0/CHANGELOG.md), and [aws\-parallelcluster\-node](https://github.com/aws/aws-parallelcluster-node/blob/v3.2.0/CHANGELOG.md) packages on GitHub\. | July 27, 2022 | 
| [AWS ParallelCluster documentation\-only updates this year to date](https://docs.aws.amazon.com/parallelcluster/latest/ug/document_history.html#aws-parallelcluster-doc-070622) | AWS ParallelCluster documentation\-only updates\. New sections:  [Best practices: budget alerts](best-practices-v3.md#best-practices-budget-alerts-v3) V3   [Best practices: moving a cluster to a new AWS ParallelCluster minor or patch version](best-practices-v3.md#best-practices-cluster-upgrades-v3) V3   [Working with Amazon S3](s3_resources-v3.md) V3   [Working with Spot Instances](spot-v3.md) V3   [Slurm cluster protected mode](slurm-protected-mode-v3.md) V3   [AWS ParallelCluster resources and tagging](resources-tags-v3.md) V3 [AWS ParallelCluster resources and tagging](resources-tags.md) V2   [Amazon CloudWatch dashboard](cloudwatch-dashboard-v3.md) V3   [Integration with Amazon CloudWatch Logs](cloudwatch-logs-v3.md) V3   [Elastic Fabric Adapter](efa-v3.md) V3   [AWS ParallelCluster AMI customization](custom-ami-v3.md) V3   [Launch instances with ODCR \(On\-Demand Capacity Reservations\)](launch-instances-odcr-v3.md) V3   [AMI patching and EC2 instance replacement](instance-updates-ami-patch-v3.md) V3   [How AWS ParallelCluster works](functional-v3.md) V3   [Configuring shared storage encryption with a AWS KMS key](tutorials_04_encrypted_kms_fs-v3.md) V3   [Running jobs in a multiple queue mode cluster](multi-queue-tutorial-v3.md) V3   [Using the AWS ParallelCluster API](tutorials_06_API_use.md) V3   Section updates:  [Best practices: network performance](best-practices-v3.md#best-practices-network-performance-v3) V3: Added best practices for using Elastic Fabric Adaptor\.   [AWS Identity and Access Management roles in AWS ParallelCluster 3\.x](iam-roles-in-parallelcluster-v3.md) V3: Various updates and added [Additional user policy when using Amazon FSx for Lustre](iam-roles-in-parallelcluster-v3.md#iam-roles-in-parallelcluster-v3-user-policy-fsxlustre)\. [AWS Identity and Access Management roles in AWS ParallelCluster](iam.md) V2: Various updates\.   [AWS ParallelCluster Troubleshooting](troubleshooting-v3.md) V3: Various updates\. [AWS ParallelCluster troubleshooting](troubleshooting.md) V2: Various updates\.   | July 6, 2022 | 
| [AWS ParallelCluster version 3\.1\.4 released](https://docs.aws.amazon.com/parallelcluster/latest/ug/document_history.html#aws-parallelcluster-3.1.4) | AWS ParallelCluster version 3\.1\.4 released\. Enhancements:  Add validation for [`DirectoryService`](DirectoryService-v3.md) / [`PasswordSecretArn`](DirectoryService-v3.md#yaml-DirectoryService-PasswordSecretArn) to fail if the secret doesn't exist\. Add support for enabling JWT authentication Slurm\.   Changes:  Upgrade Slurm to version 21\.08\.8\-2\.   Build Slurm with JWT support\.   Doesn't require [`PlacementGroup`](Scheduling-v3.md#yaml-Scheduling-SlurmQueues-Networking-PlacementGroup) / [`Enabled`](Scheduling-v3.md#yaml-Scheduling-SlurmQueues-Networking-PlacementGroup-Enabled) to be set to `true` when passing an existing `PlacementGroup` / `Id`\.   Add `lambda:TagsResource` to `ParallelClusterUserRole` used by ParallelCluster API stack for cluster creation and image creation\.   Bug fixes:  Fix the ability to export a cluster's logs when using the `export-cluster-logs` command with the `--filters` option\.   Fix AWS Batch Docker entry point to use `/home` shared directory to coordinate Multi\-node\-Parallel job execution\.   Reset node address when setting slurm unhealthy static node to down to avoid treating static node failed with insufficient capacity as a bootstrap failure node\.  For details of the changes, see the `CHANGELOG` files for the [aws\-parallelcluster](https://github.com/aws/aws-parallelcluster/blob/v3.1.4/CHANGELOG.md), [aws\-parallelcluster\-cookbook](https://github.com/aws/aws-parallelcluster-cookbook/blob/v3.1.4/CHANGELOG.md), and [aws\-parallelcluster\-node](https://github.com/aws/aws-parallelcluster-node/blob/v3.1.4/CHANGELOG.md) packages on GitHub\. | May 16, 2022 | 
| [AWS ParallelCluster version 2\.11\.7 released](https://docs.aws.amazon.com/parallelcluster/latest/ug/document_history.html#aws-parallelcluster-2.11.7) | AWS ParallelCluster version 2\.11\.7 released\. Changes:  Upgrade Slurm to version 20\.11\.9\.  For details of the changes, see the `CHANGELOG` files for the [aws\-parallelcluster](https://github.com/aws/aws-parallelcluster/blob/v2.11.7/CHANGELOG.md) package on GitHub\. | May 13, 2022 | 
| [AWS ParallelCluster version 3\.1\.3 released](https://docs.aws.amazon.com/parallelcluster/latest/ug/document_history.html#aws-parallelcluster-3.1.3) | AWS ParallelCluster version 3\.1\.3 released\. Enhancements:  Execute SSH key creation alongside with the creation of HOME directory, for example, during SSH login, when switching to another user and when executing a command as another user\.   Add support for both FQDN and LDAP Distinguished Names in the configuration parameter [`DirectoryService`](DirectoryService-v3.md) / [`DomainName`](DirectoryService-v3.md#yaml-DirectoryService-DomainName)\. The new validator now checks both the syntaxes\.   New `update_directory_service_password.sh` script deployed on the head node supports the manual update of the Active Directory password in the SSSD configuration\. The password is retrieved by the AWS Secrets Manager as from the cluster configuration\.   Add support to deploy API infrastructure in environments without a default VPC\.   Changes:  Disable deeper C\-States in x86\_64 official AMIs and AMIs created through `build-image` command, to guarantee high performance and low latency\.   OS package updates and security fixes\.   Change Amazon Linux 2 base images to use AMIs with Kernel 5\.10\.   Bug fixes:  Fix build\-image stack in `DELETE_FAILED` after image built successful, due to new EC2 Image Builder policies\.   Fix the configuration parameter [`DirectoryService`](DirectoryService-v3.md) / [`DomainAddr`](DirectoryService-v3.md#yaml-DirectoryService-DomainAddr) conversion to ldap\_uri SSSD property when it contains multiples domain addresses\.  For details of the changes, see the `CHANGELOG` files for the [aws\-parallelcluster](https://github.com/aws/aws-parallelcluster/blob/v3.1.3/CHANGELOG.md), and [aws\-parallelcluster\-cookbook](https://github.com/aws/aws-parallelcluster-cookbook/blob/v3.1.3/CHANGELOG.md) packages on GitHub\. | April 20, 2022 | 
| [AWS ParallelCluster version 2\.11\.6 released](https://docs.aws.amazon.com/parallelcluster/latest/ug/document_history.html#aws-parallelcluster-2.11.6) | AWS ParallelCluster version 2\.11\.6 released\. Enhancements:  Improve exception management in case of missing networking\.   Changes:  OS package updates and security fixes\.  For details of the changes, see the `CHANGELOG` files for the [aws\-parallelcluster](https://github.com/aws/aws-parallelcluster/blob/v2.11.6/CHANGELOG.md) package on GitHub\. | April 19, 2022 | 
| [AWS ParallelCluster version 3\.1\.2 released](https://docs.aws.amazon.com/parallelcluster/latest/ug/document_history.html#aws-parallelcluster-3.1.2) | AWS ParallelCluster version 3\.1\.2 released\. Changes:  Upgrade Slurm to version `21.08.6` \(from `21.08.5`\)\.   Bug fixes:  Fix the update of `/etc/hosts` file on compute nodes when a cluster is deployed in subnets without internet access\.   Fix compute nodes bootstrap to wait for ephemeral drives initialization before joining the cluster\.  For details of the changes, see the `CHANGELOG` files for the [aws\-parallelcluster](https://github.com/aws/aws-parallelcluster/blob/v3.1.2/CHANGELOG.md) package on GitHub\. | March 2, 2022 | 
| [AWS ParallelCluster version 2\.11\.5 released](https://docs.aws.amazon.com/parallelcluster/latest/ug/document_history.html#aws-parallelcluster-2.11.5) | AWS ParallelCluster version 2\.11\.5 released\. Enhancements:  Add support for `NEW_CHANGED_DELETED` as value of FSx for Lustre `AutoImportPolicy` option\.   Remove support for SGE and Torque schedulers\.   Disable `log4j-cve-2021-44228-hotpatch` service on Amazon Linux to avoid incurring potential performance degradation\.   Changes:  Upgrade NVIDIA driver to version `470.103.01` \(from `470.82.01`\)\.   Upgrade NVIDIA Fabric manager to version `470.103.01` \(from `470.82.01`\)\.   Upgrade CUDA library to version `11.4.4` \(from `11.4.3`\)\.   [Intel MPI](intelmpi.md) updated to Version 2021 Update 4 \(updated from Version 2019 Update 8\)\. For more information, see [Intel® MPI Library 2021 Update 4](https://software.intel.com/content/www/us/en/develop/articles/intel-mpi-library-release-notes-linux.html#inpage-nav-3-1)\.   Extend head node creation timeout to one hour\.   Bug fixes:  Fix DCV connection through browsers\.   Fix YAML quoting to prevent custom Tags from being parsed as numbers\.  For details of the changes, see the `CHANGELOG` files for the [aws\-parallelcluster](https://github.com/aws/aws-parallelcluster/blob/v2.11.5/CHANGELOG.md) package on GitHub\. | March 1, 2022 | 
| [AWS ParallelCluster version 3\.1\.1 released](https://docs.aws.amazon.com/parallelcluster/latest/ug/document_history.html#aws-parallelcluster-3.1.1) | AWS ParallelCluster version 3\.1\.1 released\.  Add support for multiple user cluster environments by [integrating with Active Directory \(AD\) domains](DirectoryService-v3.md) managed through AWS Directory Service\.   Add support for [`UseEc2Hostnames`](Scheduling-v3.md#Scheduling-v3-SlurmSettings) in the cluster configuration file\. When set to true, use EC2 default hostnames \(e\.g\. ip\-1\-2\-3\-4\) for compute nodes\.   Add support for cluster creation in [subnets with no internet access](network-configuration-v3.md#aws-parallelcluster-in-a-single-public-subnet-no-internet-v3)\.   Add support for multiple compute instance types per queue\.   Add support for GPU scheduling with Slurm on ARM instances with NVIDIA cards\.   Add abbreviated flags for `cluster-name` \(`-n`\), `region` \(`-r`\), `image-id` \(`-i`\) and `cluster-configuration` / `image-configuration` \(`-c`\) to the AWS ParallelCluster CLI\.   Add support for `NEW_CHANGED_DELETED` option for FSx for Lustre [`AutoImportPolicy`](SharedStorage-v3.md#yaml-SharedStorage-FsxLustreSettings-AutoImportPolicy) parameter\.   Add `parallelcluster:compute-resource-name` tag to EC2 `LaunchTemplates` resources used by compute nodes\.   Improve security groups created within the cluster to allow inbound connections from custom security groups when `SecurityGroups` parameters are specified for some head node and/or queues\.   Install NVIDIA drivers and CUDA library for ARM\.   Changes:  Upgrade Slurm to version `21.08.5` \(from `20.11.8`\)\.   Upgrade Slurm plugin to version `21.08` \(from `20.11`\)\.   Upgrade NICE DCV to version `2021.3-11591` \(from `2021.1-10851`\)\.   Upgrade NVIDIA driver to version `470.103.01` \(from `470.57.02`\)\.   Upgrade NVIDIA Fabric manager to version `470.103.01` \(from `470.57.02`\)\.   Upgrade CUDA to version `11.4.4` \(from `11.4.0`\)\.   [Intel MPI](intelmpi.md) updated to Version 2021 Update 4 \(updated from Version 2019 Update 8\)\. For more information, see [Intel® MPI Library 2021 Update 4](https://software.intel.com/content/www/us/en/develop/articles/intel-mpi-library-release-notes-linux.html#inpage-nav-3-1)\.   Upgrade PMIx to version `3.2.3` \(from `3.1.5`\)\.   Remove dumping of failed compute nodes to `/home/logs/compute`\. Compute nodes log files are available in CloudWatch and in EC2 console logs\.   Enable potential to suppress `SlurmQueues` and `ComputeResources` length validators\.   Disable package update at instance launch time on Amazon Linux 2\.   Disable EC2 ImageBuilder enhanced image metadata when building AWS ParallelCluster custom images\.   Explicitly set `cloud-init` datasource to be EC2\. This saves boot time for Ubuntu and CentOS platforms\.   Use compute resource name rather than instance type in compute fleet launch template name\.   Redirect stderr and stdout to CLI log file to prevent unwanted text in the pcluster CLI output\.   Move the configure/install recipes to separate cookbooks that are called from the main one\. Existing entrypoints are maintained and backwards compatible\.   Download dependencies of Intel HPC platform during AMI build time to avoid contacting internet during cluster creation time\.   Do not strip `-` from compute resource name when configuring Slurm nodes\.   Do not configure GPUs in Slurm when NVIDIA driver is not installed\.   Fix `ecs:ListContainerInstances` permission in `BatchUserRole`\.   Fix exporting of cluster logs when there is no prefix specified, previously exported to a `None` prefix\.   Fix rollback not being performed in case of cluster update failure\.   Fix `ecs:ListContainerInstances` permission in `BatchUserRole`\.   Fix `RootVolume` schema for the `HeadNode` by raising an error if an unsupported `KmsKeyId` is specified\.   Fix Amazon FSx missing metrics to be displayed in CloudWatch Dashboard\.   Fix `EfaSecurityGroupValidator`\. Previously, it had potential to produce false failures when custom security groups were provided and EFA was enabled\.  For details of the changes, see the `CHANGELOG` files for the [aws\-parallelcluster](https://github.com/aws/aws-parallelcluster/blob/v3.1.1/CHANGELOG.md), [aws\-parallelcluster\-cookbook](https://github.com/aws/aws-parallelcluster-cookbook/blob/v3.1.1/CHANGELOG.md), and [aws\-parallelcluster\-node](https://github.com/aws/aws-parallelcluster-node/blob/v3.1.1/CHANGELOG.md) packages on GitHub\. | February 10, 2022 | 
| [AWS ParallelCluster version 3\.0\.3 released](https://docs.aws.amazon.com/parallelcluster/latest/ug/document_history.html#aws-parallelcluster-3.0.3) | AWS ParallelCluster version 3\.0\.3 released\.   Disable `log4j-cve-2021-44228-hotpatch` agent \(`Log4jHotPatch`\) on Amazon Linux 2 to avoid potential performance degradation\. For more information, see [Amazon Linux Hotpatch Announcement for Apache Log4j](https://alas.aws.amazon.com/announcements/2021-001.html)\.   For details of the changes, see the `CHANGELOG` files for the [aws\-parallelcluster](https://github.com/aws/aws-parallelcluster/blob/v2.11.4/CHANGELOG.md) and [aws\-parallelcluster\-cookbook](https://github.com/aws/aws-parallelcluster-cookbook/blob/v2.11.4/CHANGELOG.md) packages on GitHub\. | January 17, 2022 | 
| [AWS ParallelCluster version 2\.11\.4 released](https://docs.aws.amazon.com/parallelcluster/latest/ug/document_history.html#aws-parallelcluster-2.11.4) | AWS ParallelCluster version 2\.11\.4 released\.Changes include:  CentOS 8 support removed\. CentOS 8 reaches end of life \(EOL\) on December 31, 2021\.   Upgrade Slurm Workload Manager to version 20\.11\.8\.   Upgrade Cinc Client to `17.2.29`\.   [NICE DCV](dcv.md) updated to NICE DCV 2021\.2\-11190\. For more information, see [DCV 2021\.2\-11190— October 11, 2021](https://docs.aws.amazon.com/dcv/latest/adminguide/doc-history-release-notes.html#dcv-2021-2-11190) in the *NICE DCV Administrator Guide*\.   Upgrade NVIDIA driver to version `470.82.01` \(from `460.73.01`\)\.   Upgrade CUDA library to version `11.4.3` \(from `11.3.0`\)\.   Upgrade NVIDIA Fabric Manager to `470.82.01`\.   Disable package update at instance launch time on Amazon Linux 2\.   Disable unattended package update on Ubuntu and Amazon Linux 2\.   Install Python 3 version of [AWS CloudFormation helper scripts](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-helper-scripts-reference.html) on CentOS 7 and Ubuntu 18\.04\. \(These were already used on Amazon Linux 2 and Ubuntu 20\.04\.\)  Fixes include:  Disable update of [`ec2_iam_role`](cluster-definition.md#ec2-iam-role) parameter\.   Fix the `CpuOptions` configuration in the launch template for T2 instances\.  For details of the changes, see the `CHANGELOG` files for the [aws\-parallelcluster](https://github.com/aws/aws-parallelcluster/blob/v2.11.4/CHANGELOG.md), [aws\-parallelcluster\-cookbook](https://github.com/aws/aws-parallelcluster-cookbook/blob/v2.11.4/CHANGELOG.md) and [aws\-parallelcluster\-node](https://github.com/aws/aws-parallelcluster-node/blob/v2.11.4/CHANGELOG.md) packages on GitHub\. | December 20, 2021 | 
| [AWS ParallelCluster version 3\.0\.2 released](https://docs.aws.amazon.com/parallelcluster/latest/ug/document_history.html#aws-parallelcluster-3.0.2) | AWS ParallelCluster version 3\.0\.2 released\. Upgrade [Elastic Fabric Adapter](efa.md) installer to 1\.14\.1  EFA config: `efa-config-1.9-1` \(from `efa-config-1.9`\)   EFA profile: `efa-profile-1.5-1` \(from `efa-profile-1.5`\)   EFA Kernel module: `efa-1.14.2` \(from `efa-1.13.0`\)   RDMA core: `rdma-core-37.0` \(from `rdma-core-35`\)   Libfabric: `libfabric-1.13.2` \(from `libfabric-1.13.0`\)   Open MPI: `openmpi40-aws-4.1.1-2` \(no change\)  GPUDirect RDMA is always enabled if supported by the instance type\. The [GdrSupport](Scheduling-v3.md#yaml-Scheduling-SlurmQueues-ComputeResources-Efa-GdrSupport) configuration option has no effect\.For details of the changes, see the `CHANGELOG` files for the [aws\-parallelcluster](https://github.com/aws/aws-parallelcluster/blob/v3.0.2/CHANGELOG.md), [aws\-parallelcluster\-cookbook](https://github.com/aws/aws-parallelcluster-cookbook/blob/v3.0.2/CHANGELOG.md) and [aws\-parallelcluster\-node](https://github.com/aws/aws-parallelcluster-node/blob/v3.0.2/CHANGELOG.md) packages on GitHub\. | November 5, 2021 | 
| [AWS ParallelCluster version 2\.11\.3 released](https://docs.aws.amazon.com/parallelcluster/latest/ug/document_history.html#aws-parallelcluster-2.11.3) | AWS ParallelCluster version 2\.11\.3 released\.  Fix [`pcluster createami`](pcluster.createami.md) failure due to Son of Grid Engine sources not being available at `arc.liv.ac.uk`\.   Upgrade [Elastic Fabric Adapter](efa.md) installer to 1\.14\.1 \(from 1\.13\.0\)  EFA config: `efa-config-1.9-1` \(from `efa-config-1.9`\)   EFA profile: `efa-profile-1.5-1` \(no change\)   EFA Kernel module: `efa-1.14.2` \(from `efa-1.13.0`\)   RDMA core: `rdma-core-37.0` \(from `rdma-core-35.0amzn`\)   Libfabric: `libfabric-1.13.2` \(from `libfabric-1.13.0amzn1.0`\)   Open MPI: `openmpi40-aws-4.1.1-2` \(no change\)   GPUDirect RDMA is always enabled if supported by the instance type\.  The [`enable_efa_gdr`](cluster-definition.md#enable-efa-gdr) and [`enable_efa_gdr`](queue-section.md#queue-enable-efa-gdr) configuration options have no effect\.  For details of the changes, see the `CHANGELOG` files for the [aws\-parallelcluster](https://github.com/aws/aws-parallelcluster/blob/v2.11.3/CHANGELOG.md), [aws\-parallelcluster\-cookbook](https://github.com/aws/aws-parallelcluster-cookbook/blob/v2.11.3/CHANGELOG.md) and [aws\-parallelcluster\-node](https://github.com/aws/aws-parallelcluster-node/blob/v2.11.3/CHANGELOG.md) packages on GitHub\. | November 3, 2021 | 
| [AWS ParallelCluster version 3\.0\.1 released](https://docs.aws.amazon.com/parallelcluster/latest/ug/document_history.html#aws-parallelcluster-3.0.1) | AWS ParallelCluster version 3\.0\.1 released\. Cluster configuration migration tool  Customers can now migrate their cluster configurations from the AWS ParallelCluster version 2 format to the YAML\-based AWS ParallelCluster version 3 format\. For more information, see [`pcluster3-config-converter`](pcluster3-config-converter.md)\.     Head node can be stopped  After stopping the compute fleet, the head node can be stopped and later restarted using the Amazon EC2 console or the [stop\-instances](https://docs.aws.amazon.com/cli/latest/reference/ec2/stop-instances.html) AWS CLI command\.   Default Region read from `~/.aws/config` file  For the [`pcluster`](pcluster-v3.md) command, if the Region is not specified in the configuration file, in the environment, or on the command line, the default Region specified in the `region` setting in the `[default]` section of the `~/.aws/config` file is used\.    For details of the changes, see the `CHANGELOG` files for the [aws\-parallelcluster](https://github.com/aws/aws-parallelcluster/blob/v3.0.1/CHANGELOG.md), [aws\-parallelcluster\-cookbook](https://github.com/aws/aws-parallelcluster-cookbook/blob/v3.0.1/CHANGELOG.md) and [aws\-parallelcluster\-node](https://github.com/aws/aws-parallelcluster-node/blob/v3.0.1/CHANGELOG.md) packages on GitHub\. | October 27, 2021 | 
| [AWS ParallelCluster version 3\.0\.0 released](https://docs.aws.amazon.com/parallelcluster/latest/ug/document_history.html#aws-parallelcluster-3.0.0) | AWS ParallelCluster version 3\.0\.0 released\. Support for cluster management via Amazon API Gateway  Customers can now manage and deploy clusters through HTTP endpoints with Amazon API Gateway\. This opens up new possibilities for scripted or event\-driven workflows\. The AWS ParallelCluster command line interface \(CLI\) has also been redesigned for compatibility with this API and includes a new JSON output option\. This new functionality makes it possible for customers to implement similar building block capabilities using the CLI as well\.   Improved custom AMI creation  Customers now have access to a more robust process for creating and managing custom AMIs using EC2 Image Builder\. Custom AMIs can now be managed through a separate AWS ParallelCluster configuration file, and can be created using the [`pcluster build-image`](pcluster.build-image-v3.md) command in the AWS ParallelCluster command line interface\.  For details of the changes, see the `CHANGELOG` files for the [aws\-parallelcluster](https://github.com/aws/aws-parallelcluster/blob/v3.0.0/CHANGELOG.md), [aws\-parallelcluster\-cookbook](https://github.com/aws/aws-parallelcluster-cookbook/blob/v3.0.0/CHANGELOG.md) and [aws\-parallelcluster\-node](https://github.com/aws/aws-parallelcluster-node/blob/v3.0.0/CHANGELOG.md) packages on GitHub\. | September 10, 2021 | 
| [AWS ParallelCluster version 2\.11\.2 released](https://docs.aws.amazon.com/parallelcluster/latest/ug/document_history.html#aws-parallelcluster-2.11.2) | AWS ParallelCluster version 2\.11\.2 released\.Changes include:   Do not install EFA with GPUDirect RDMA \(GDR\) enabled at bootstrap time if EFA is installed in the base AMI\.   Lock version of `nvidia-fabricmanager` package to remain in sync with the NVIDIA driver version installed by AWS ParallelCluster\.   Slurm: Fix issue caused when cluster was stopped and restarted while a node was powering up\.   [Elastic Fabric Adapter](efa.md) installer updated to 1\.13\.0:   EFA config: `efa-config-1.9` \(no change\)   EFA profile: `efa-profile-1.5-1` \(no change\)   EFA Kernel module: `efa-1.13.0` \(no change\)   RDMA core: `rdma-core-35.0amzn` \(from `rdma-core-32.1amzn`\)   Libfabric: `libfabric-1.13.0amzn1.0` \(from `libfabric-1.11.2amzn1.1`\)   Open MPI: `openmpi40-aws-4.1.1-2` \(no change\)     When using a custom AMI with a preinstalled EFA package, no changes are made to EFA at node bootstrap time\. The original EFA package deployment is preserved\.   For more details of the changes, see the CHANGELOG files for the [aws\-parallelcluster](https://github.com/aws/aws-parallelcluster/blob/v2.11.2/CHANGELOG.md) and [aws\-parallelcluster\-cookbook](https://github.com/aws/aws-parallelcluster-cookbook/blob/v2.11.2/CHANGELOG.md) packages on GitHub\. | August 27, 2021 | 
| [AWS ParallelCluster version 2\.11\.1 released](https://docs.aws.amazon.com/parallelcluster/latest/ug/document_history.html#aws-parallelcluster-2.11.1) | AWS ParallelCluster version 2\.11\.1 released\.Changes include:   Mount file systems using the `noatime` mount option to stop recording last access time when a file is read\. This improves the performance of the remote file system\.   [Elastic Fabric Adapter](efa.md) installer updated to 1\.12\.3:   EFA config: `efa-config-1.9` \(from `efa-config-1.8-1`\)   EFA profile: `efa-profile-1.5-1` \(no change\)   EFA Kernel module: `efa-1.13.0` \(from `efa-1.12.3`\)   RDMA core: `rdma-core-32.1amzn` \(no change\)   Libfabric: `libfabric-1.11.2amzn1.1` \(no change\)   Open MPI: `openmpi40-aws-4.1.1-2` \(no change\)     Retry installations of the `aws-parallelcluster` package on the head node when using AWS Batch as the scheduler\.   Avoid failures when building SGE on an instance type with more than 31 vCPUs\.    Pinned to version 1\.247347\.6 of the Amazon CloudWatch Agent to avoid issues seen in version 1\.247348\.0\.  For more details of the changes, see the CHANGELOG files for the [aws\-parallelcluster](https://github.com/aws/aws-parallelcluster/blob/v2.11.1/CHANGELOG.md) and [aws\-parallelcluster\-cookbook](https://github.com/aws/aws-parallelcluster-cookbook/blob/v2.11.1/CHANGELOG.md) packages on GitHub\. | July 23, 2021 | 
| [AWS ParallelCluster version 2\.11\.0 released](https://docs.aws.amazon.com/parallelcluster/latest/ug/document_history.html#aws-parallelcluster-2.11.0) | AWS ParallelCluster version 2\.11\.0 released\.Changes include:  Added support for Ubuntu 20\.04 \(`ubuntu2004`\) and removed support for Ubuntu 16\.04 \(`ubuntu1604`\) and Amazon Linux \(`alinux`\)\. Amazon Linux 2 \(`alinux2`\) remains fully supported\. For more information, see [`base_os`](cluster-definition.md#base-os)\.   Removed support for Python versions below 3\.6\.   Default root volume size increased to 35 gibibytes \(GiB\)\. For more information, see [`compute_root_volume_size`](cluster-definition.md#compute-root-volume-size) and [`master_root_volume_size`](cluster-definition.md#master-root-volume-size)\.   [Elastic Fabric Adapter](efa.md) installer updated to 1\.12\.2:   EFA config: `efa-config-1.8-1` \(from `efa-config-1.7`\)   EFA profile: `efa-profile-1.5-1` \(from `efa-profile-1.4`\)   EFA Kernel module: `efa-1.12.3` \(from `efa-1.10.2`\)   RDMA core: `rdma-core-32.1amzn` \(from `rdma-core-31.2amzn`\)   Libfabric: `libfabric-1.11.2amzn1.1` \(from `libfabric-1.11.1amzn1.0`\)   Open MPI: `openmpi40-aws-4.1.1-2` \(from `openmpi40-aws-4.1.0`\)       Upgraded Slurm to version `20.11.7` \(from `20.02.7`\)\.    Install SSM Agent on `centos7` and `centos8`\. \(SSM Agent is preinstalled in `alinux2`, `ubuntu1804`, and `ubuntu2004`\.\)   SGE: Always use the shortname as the hostname filter with `qstat`\.   Use instance metadata service Version 2 \(IMDSv2\) instead of instance metadata service Version 1 \(IMDSv1\) to retrieve instance metadata\. For more information, see [Instance metadata and user data](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-metadata.html) in the *Amazon EC2 User Guide for Linux Instances*\.   Upgrade NVIDIA driver to version `460.73.01` \(from `450.80.02`\)\.   Upgrade CUDA library to version `11.3.0` \(from `11.0`\)\.   Upgrade NVIDIA Fabric Manager to `nvidia-fabricmanager-460`\.   Upgrade Python used in AWS ParallelCluster virtualenvs to `3.7.10` \(from `3.6.13`\)\.   Upgrade Cinc Client to `16.13.16`\.   Upgrade third\-party dependencies of [aws\-parallelcluster\-cookbook](https://github.com/aws/aws-parallelcluster-cookbook/):    `apt-7.4.0` \(from `apt-7.3.0`\)\.   `iptables-8.0.0` \(from `iptables-7.1.0`\)\.   `line-4.0.1` \(from `line-2.9.0`\)\.   `openssh-2.9.1` \(from `openssh-2.8.1`\)\.   `pyenv-3.4.2` \(from `pyenv-3.1.1`\)\.   `selinux-3.1.1` \(from `selinux-2.1.1`\)\.   `ulimit-1.1.1` \(from `ulimit-1.0.0`\)\.   `yum-6.1.1` \(from `yum-5.1.0`\)\.   `yum-epel-4.1.2` \(from `yum-epel-3.3.0`\)\.     For more details of the changes, see the CHANGELOG files for the [aws\-parallelcluster](https://github.com/aws/aws-parallelcluster/blob/v2.11.0/CHANGELOG.md), [aws\-parallelcluster\-cookbook](https://github.com/aws/aws-parallelcluster-cookbook/blob/v2.11.0/CHANGELOG.md), and [aws\-parallelcluster\-node](https://github.com/aws/aws-parallelcluster-node/blob/v2.11.0/CHANGELOG.md) packages on GitHub\. | July 1, 2021 | 
| [AWS ParallelCluster version 2\.10\.4 released](https://docs.aws.amazon.com/parallelcluster/latest/ug/document_history.html#aws-parallelcluster-2.10.4) | AWS ParallelCluster version 2\.10\.4 released\.Changes include:  Upgraded Slurm to version `20.02.7` \(from `20.02.4`\)\.  For more details of the changes, see the CHANGELOG file for the [aws\-parallelcluster](https://github.com/aws/aws-parallelcluster/blob/v2.10.4/CHANGELOG.md) package on GitHub\. | May 15, 2021 | 
| [AWS ParallelCluster version 2\.10\.3 released](https://docs.aws.amazon.com/parallelcluster/latest/ug/document_history.html#aws-parallelcluster-2.10.3) | AWS ParallelCluster version 2\.10\.3 released\.Changes include:  Added support for Ubuntu 18\.04 and Amazon Linux 2 on Arm\-based AWS Graviton instances in the AWS China and AWS GovCloud \(US\) Regions\.   [Elastic Fabric Adapter](efa.md) installer updated to 1\.11\.2:   EFA config: `efa-config-1.7` \(no change\)   EFA profile: `efa-profile-1.4` \(from `efa-profile-1.3`\)   EFA Kernel module: `efa-1.10.2` \(no change\)   RDMA core: `rdma-core-31.2amzn` \(no change\)   Libfabric: `libfabric-1.11.1amzn1.0` \(no change\)   Open MPI: `openmpi40-aws-4.1.0` \(no change\)    For more details of the changes, see the CHANGELOG file for the [aws\-parallelcluster](https://github.com/aws/aws-parallelcluster/blob/v2.10.3/CHANGELOG.md) package on GitHub\. | March 18, 2021 | 
| [AWS ParallelCluster version 2\.10\.2 released](https://docs.aws.amazon.com/parallelcluster/latest/ug/document_history.html#aws-parallelcluster-2.10.2) | AWS ParallelCluster version 2\.10\.2 released\.Changes include:  Improve cluster config validation to use the cluster target AMI when invoking the Amazon EC2 [RunInstances](https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_RunInstances.html) API operation in `--dry-run` mode\.   Update the Python version used in the AWS ParallelCluster virtual environments to 3\.6\.13\.   Fix [`sanity_check`](global.md#sanity-check) for Arm instance types\.   Fix `enable_efa` when using `centos8` with the Slurm scheduler or Arm instance types\.   Run `apt update` in non\-interactive mode \(`-y`\)\.   Fix [`encrypted_ephemeral`](cluster-definition.md#encrypted-ephemeral) = true with `alinux2` and `centos8`\.  For more details of the changes, see the CHANGELOG file for the [aws\-parallelcluster](https://github.com/aws/aws-parallelcluster/blob/v2.10.2/CHANGELOG.md) package on GitHub\. | March 2, 2021 | 
| [AWS ParallelCluster version 2\.10\.1 released](https://docs.aws.amazon.com/parallelcluster/latest/ug/document_history.html#aws-parallelcluster-2.10.1) | AWS ParallelCluster version 2\.10\.1 released\.Changes include:  Added support for the Africa \(Cape Town\) \(`af-south-1`\), Europe \(Milan\) \(`me-south-1`\), and Middle East \(Bahrain\) \(`me-south-1`\) Regions\. At launch, support is limited in the following ways:   FSx for Lustre and Arm\-based Graviton instances aren't supported in any of these Regions\.   AWS Batch isn't supported in Africa \(Cape Town\)\.   Amazon EBS `io2` and `gp3` volume types aren't supported in the Africa \(Cape Town\) and Europe \(Milan\) Regions\.     Added support for the Amazon EBS `io2` and `gp3` volume types\. For more information, see [`[ebs]` section](ebs-section.md) and [`[raid]` section](raid-section.md)\.   Added support for [Elastic Fabric Adapter](efa.md) on Arm\-based Graviton2 instances running `alinux2`, `ubuntu1804`, or `ubuntu2004`\. For more information, see [Elastic Fabric Adapter](efa.md)\.   Install the Arm Performance Libraries 20\.2\.1 on Arm AMIs \(`alinux2`, `centos8`, and `ubuntu1804`\)\. For more information, see [Arm Performance Libraries](arm-performance-libraries.md)\.   [Intel MPI](intelmpi.md) updated to Version 2019 Update 8 \(updated from Version 2019 Update 7\)\. For more information, see [Intel® MPI Library 2019 Update 8](https://software.intel.com/content/www/us/en/develop/articles/intel-mpi-library-release-notes-linux.html#inpage-nav-3-2)\.   Removed the AWS CloudFormation `DescribeStacks` API operation call from the AWS Batch Docker entrypoint to end the job failures caused by throttling by AWS CloudFormation\.   Improved the calls to Amazon EC2 `DescribeInstanceTypes` API operation call when validating a cluster configuration\.   Amazon Linux 2 Docker images are pulled from Amazon ECR Public when building the Docker image for the `awsbatch` scheduler\.   The default instance type changed from the hardcoded `t2.micro` instance type to the Free Tier instance type for the Region \(`t2.micro` or `t3.micro`, depending on the Region\)\. Regions that do not have a Free Tier default to the `t3.micro` instance type\.   [Elastic Fabric Adapter](efa.md) installer updated to 1\.11\.1:   EFA config: `efa-config-1.7` \(from `efa-config-1.5`\)   EFA profile: `efa-profile-1.3` \(from `efa-profile-1.1`\)   EFA Kernel module: `efa-1.10.2` \(no change\)   RDMA core: `rdma-core-31.2amzn` \(from `rdma-core-31.amzn0`\)   Libfabric: `libfabric-1.11.1amzn1.0` \(from `libfabric-1.10.1amzn1.1`\)   Open MPI: `openmpi40-aws-4.1.0` \(from `openmpi40-aws-4.0.5`\)     The [`vpc_settings`](cluster-definition.md#vpc-settings), [`vpc_id`](vpc-section.md#vpc-id), and [`master_subnet_id`](vpc-section.md#master-subnet-id) parameters are now required\.   The `nfsd` daemon in the head node is now set to use at least 8 threads\. If there are more than 8 cores, it will use as many threads as there are cores\. When `ubuntu1604` is used, the setting only changes after the node is rebooted\.   [NICE DCV](dcv.md) updated to NICE DCV 2020\.2\-9662\. For more information, see [DCV 2020\.2\-9662— December 04, 2020](https://docs.aws.amazon.com/dcv/latest/adminguide/doc-history-release-notes.html#dcv-2020-2-9662) in the *NICE DCV Administrator Guide*\.   The Intel MPI and HPC packages for AWS ParallelCluster are pulled from Amazon S3\. They are no longer pulled from Intel yum repos\.   Changed the default systemd runlevel to `multi-user.target` on all OSs during creation of official AWS ParallelCluster AMIs\. The runlevel is set to `graphical.target` on the head node only when DCV is enabled\. This prevents graphical services \(such as `x/gdm`\) from running when they are not required\.   Enabled support for `p4d.24xlarge` instances on the head node\.   Increase the maximum number of retry attempts when registering Slurm nodes in Amazon Route 53\.  For more details of the changes, see the CHANGELOG files for the [aws\-parallelcluster](https://github.com/aws/aws-parallelcluster/blob/v2.10.1/CHANGELOG.md), [aws\-parallelcluster\-cookbook](https://github.com/aws/aws-parallelcluster-cookbook/blob/v2.10.1/CHANGELOG.md), and [aws\-parallelcluster\-node](https://github.com/aws/aws-parallelcluster-node/blob/v2.10.1/CHANGELOG.md) packages on GitHub\. | December 22, 2020 | 
| [AWS ParallelCluster version 2\.10\.0 released](https://github.com/aws/aws-parallelcluster/releases/tag/v2.10.0) | AWS ParallelCluster version 2\.10\.0 released\.Changes include:  Added support for CentOS 8 in all AWS Regions \(outside of the AWS China and AWS GovCloud \(US\) Regions\)\. Removed support for CentOS 6\.   Added support for `p4d.24xlarge` instances for compute nodes\.   Added support for NVIDIA GPUDirect RDMA on EFA by using the new [`enable_efa_gdr`](cluster-definition.md#enable-efa-gdr) setting\.   Added support for Amazon FSx for Lustre features\.   Configure your Amazon FSx for Lustre file system to import preferences using the [`auto_import_policy`](fsx-section.md#fsx-auto-import-policy) setting\.   Added support for HDD\-based Amazon FSx for Lustre file systems using the [`storage_type`](fsx-section.md#fsx-storage-type) and [`drive_cache_type`](fsx-section.md#fsx-drive-cache-type) settings\.     Added a Amazon CloudWatch dashboard, including head node metrics and easy access to cluster logs\. For more information, see [Amazon CloudWatch dashboard](cloudwatch-dashboard.md)\.   Added support for using an existing Amazon S3 bucket to store cluster configuration information, using the [`cluster_resource_bucket`](cluster-definition.md#cluster-resource-bucket-section) setting\.   Enhanced the [`pcluster createami`](pcluster.createami.md) command\.   Added `--post-install` parameter to use a post\-installation script when build an AMI\.   Added a validation step to fail when using a base AMI created by a different version of AWS ParallelCluster\.   Added a validation step to fail when if the select OS is different from the OS in the base AMI\.   Added support for using a AWS ParallelCluster base AMI\.     Enhanced the [`pcluster update`](pcluster.update.md) command\.   The [`tags`](cluster-definition.md#tags) setting can now be changed during an update\.   Queues can now be resized during an update without stopping the compute fleet     Added `all_or_nothing_batch` configuration parameter for `slurm_resume` script\. When `True`, `slurm_resume` will succeed only if all the instances required by all the pending jobs in Slurm will be available\. For more information, see [Introducing `all_or_nothing_batch` launches](https://github.com/aws/aws-parallelcluster/wiki/Introducing-all_or_nothing_batch-launches) in the AWS ParallelCluster Wiki on GitHub\.   [Elastic Fabric Adapter](efa.md) installer updated to 1\.10\.1:   EFA config: `efa-config-1.5` \(from `efa-config-1.4`\)   EFA profile: `efa-profile-1.1` \(from `efa-profile-1.0.0`\)   EFA Kernel module: `efa-1.10.2` \(from `efa-1.6.0`\)   RDMA core: `rdma-core-31.amzn0` \(from `rdma-core-28.amzn0`\)   Libfabric: `libfabric-1.11.1amzn1.0` \(from `libfabric-1.10.1amzn1.1`\)   Open MPI: `openmpi40-aws-4.0.5` \(from `openmpi40-aws-4.0.3`\)     In the AWS GovCloud \(US\) Regions, enable support for NICE DCV and AWS Batch\.   In the AWS China Regions, enable support for Amazon FSx for Lustre\.   Upgrade NVIDIA driver to version 450\.80\.02 \(from 450\.51\.05\)\.   Install NVIDIA Fabric Manager to enable NVIDIA NVSwitch on supported platforms\.   Removed default Region of `us-east-1`\. The default uses this lookup order\.   Region specified in `-r` or `--region` argument\.   `AWS_DEFAULT_REGION` environment variable\.   `aws_region_name` setting in the [`[aws]` section](aws.md) of the AWS ParallelCluster configuration file \(defaults to `~/.parallelcluster/config`\)\.   `region` setting in the `[default]` section of the AWS CLI configuration file \(defaults to `~/aws/config`\)\.    For more details of the changes, see the CHANGELOG files for the [aws\-parallelcluster](https://github.com/aws/aws-parallelcluster/blob/v2.10.0/CHANGELOG.md), [aws\-parallelcluster\-cookbook](https://github.com/aws/aws-parallelcluster-cookbook/blob/v2.10.0/CHANGELOG.md), and [aws\-parallelcluster\-node](https://github.com/aws/aws-parallelcluster-node/blob/v2.10.0/CHANGELOG.md) packages on GitHub\. | November 18, 2020 | 
| [AWS ParallelCluster version 2\.9\.0 released](https://github.com/aws/aws-parallelcluster/releases/tag/v2.9.0) | AWS ParallelCluster version 2\.9\.0 released\.Changes include:  Added support for multiple queues and multiple instance types in the compute fleet when used with Slurm Workload Manager\. When using queues, Auto Scaling groups are no longer used on Slurm\. An Amazon Route 53 hosted zone is now created with the cluster and is used for DNS resolution of compute nodes when the Slurm scheduler is used\. For more information, see [Multiple queue mode](queue-mode.md)\.   Added support for [NICE DCV](dcv.md) on Arm\-based AWS Graviton\-based instances\.   Added support for disabling hyperthreading on instance types that do not support CPU options in launch templates \(for example `*.metal` instance types\)\.   Added support for NFS 4 for file systems shared from the head node\.   Removed dependency on [cfn\-init](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-init.html) when bootstrapping compute nodes to avoid throttling by AWS CloudFormation when a large number of nodes join the cluster\.   [Elastic Fabric Adapter](efa.md) installer updated to 1\.9\.5:   EFA config: `efa-config-1.4` \(from `efa-config-1.3`\)   EFA profile: `efa-profile-1.0.0` \(new\)   Kernel module: `efa-1.6.0` \(no change\)   RDMA core: `rdma-core-28.amzn0` \(no change\)   Libfabric: `libfabric-1.10.1amzn1.1` \(no change\)   Open MPI: `openmpi40-aws-4.0.3` \(no change\)     Upgraded Slurm to version `20.02.4` \(from `19.05.5`\)\.   [NICE DCV](dcv.md) updated to NICE DCV 2020\.1\-9012\. For more information, see [DCV 2020\.1\-9012— August 24, 2020 Release Notes](https://docs.aws.amazon.com/dcv/latest/adminguide/doc-history-release-notes.html#dcv-2020-1-9012) in the *NICE DCV Administrator Guide*\.   When mounting shared NFS drives, use the head node private IP address instead of the hostname\.   Added new log streams to CloudWatch Logs: `chef-client`, `clustermgtd`, `computemgtd`, `slurm_resume`, and `slurm_suspend`\.   Added support for queue names in pre\-install and post\-install scripts\.   In the AWS GovCloud \(US\) Regions, use the Amazon DynamoDB on\-demand billing option\. For more information, see [On\-Demand Mode](https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/HowItWorks.ReadWriteCapacityMode.html#HowItWorks.OnDemand) in the *Amazon DynamoDB Developer Guide*\.  For more details of the changes, see the CHANGELOG files for the [aws\-parallelcluster](https://github.com/aws/aws-parallelcluster/blob/v2.9.0/CHANGELOG.rst), [aws\-parallelcluster\-cookbook](https://github.com/aws/aws-parallelcluster-cookbook/blob/v2.9.0/CHANGELOG.md), and [aws\-parallelcluster\-node](https://github.com/aws/aws-parallelcluster-node/blob/v2.9.0/CHANGELOG.md) packages on GitHub\. | September 11, 2020 | 
| [AWS ParallelCluster version 2\.8\.1 released](https://github.com/aws/aws-parallelcluster/releases/tag/v2.8.1) | AWS ParallelCluster version 2\.8\.1 released\.Changes include:  Disable screen lock for NICE DCV sessions to prevent users from being locked out\.   Fix [`pcluster configure`](pcluster.configure.md) when including an Arm\-based AWS Graviton\-based instance type\.  For more details of the changes, see the CHANGELOG files for the [aws\-parallelcluster](https://github.com/aws/aws-parallelcluster/blob/v2.8.1/CHANGELOG.rst), [aws\-parallelcluster\-cookbook](https://github.com/aws/aws-parallelcluster-cookbook/blob/v2.8.1/CHANGELOG.md), and [aws\-parallelcluster\-node](https://github.com/aws/aws-parallelcluster-node/blob/v2.8.1/CHANGELOG.md) packages on GitHub\. | August 4, 2020 | 
| [AWS ParallelCluster version 2\.8\.0 released](https://github.com/aws/aws-parallelcluster/releases/tag/v2.8.0) | AWS ParallelCluster version 2\.8\.0 released\.Changes include:  Added support for Arm\-based AWS Graviton\-based instances \(like the `A1` and `C6g`\)\.   Added support for the automatic daily backup features of Amazon FSx for Lustre\. For more information, see [`automatic_backup_retention_days`](fsx-section.md#fsx-automatic-backup-retention-days), [`copy_tags_to_backups`](fsx-section.md#fsx-copy-tags-to-backups), [`daily_automatic_backup_start_time`](fsx-section.md#fsx-daily-automatic-backup-start-time), and [`fsx_backup_id`](fsx-section.md#fsx-backup-id)\.   Removed dependency on Berkshelf from [`pcluster createami`](pcluster.createami.md)\.   Improved the robustness and user experience of [`pcluster update`](pcluster.update.md)\. For more information, see [Using `pcluster update`](using-pcluster-update.md)\.   [Elastic Fabric Adapter](efa.md) installer updated to 1\.9\.4:   Kernel module: `efa-1.6.0` \(updated from `efa-1.5.1`\)   RDMA core: `rdma-core-28.amzn0` \(updated from `rdma-core-25.0`\)   Libfabric: `libfabric-1.10.1amzn1.1` \(updated from `libfabric-aws-1.9.0amzn1.1`\)   Open MPI: `openmpi40-aws-4.0.3` \(no change\)     Upgrade NVIDIA driver to Tesla version 440\.95\.01 on CentOS 6 and version 450\.51\.05 on all other distributions\.   Upgrade CUDA library to version 11\.0 on all distributions other than CentOS 6\.  For more details of the changes, see the CHANGELOG files for the [aws\-parallelcluster](https://github.com/aws/aws-parallelcluster/blob/v2.8.0/CHANGELOG.rst), [aws\-parallelcluster\-cookbook](https://github.com/aws/aws-parallelcluster-cookbook/blob/v2.8.0/CHANGELOG.md), and [aws\-parallelcluster\-node](https://github.com/aws/aws-parallelcluster-node/blob/v2.8.0/CHANGELOG.md) packages on GitHub\. | July 23, 2020 | 
| [AWS ParallelCluster version 2\.7\.0 released](https://github.com/aws/aws-parallelcluster/releases/tag/v2.7.0) | AWS ParallelCluster version 2\.7\.0 released\.Changes include:  [`base_os`](cluster-definition.md#base-os) is now a required parameter\.   [`scheduler`](cluster-definition.md#scheduler) is now a required parameter\.   [NICE DCV](dcv.md) updated to NICE DCV 2020\.0\. For more information, see [NICE DCV releases version 2020\.0 with surround sound 7\.1 and stylus support](https://aws.amazon.com/about-aws/whats-new/2020/04/nice-dcv-releases-version-2020-0-with-surround-sound-7-1-and-stylus-support/)\. [Intel MPI](intelmpi.md) updated to Version 2019 Update 7 \(updated from Version 2019 Update 6\)\. For more information, see [Intel® MPI Library 2019 Update 7](https://software.intel.com/content/www/us/en/develop/articles/intel-mpi-library-release-notes-linux.html#inpage-nav-3-undefined)\. [Elastic Fabric Adapter](efa.md) installer updated to 1\.8\.4:   Kernel module: `efa-1.5.1` \(no change\)   RDMA core: `rdma-core-25.0` \(no change\)   Libfabric: `libfabric-aws-1.9.0amzn1.1` \(no change\)   Open MPI: `openmpi40-aws-4.0.3` \(updated from `openmpi40-aws-4.0.2`\)     Upgrade CentOS 7 AMI to version 7\.8\-2003 \(updated from 7\.7\-1908\)\. For more information, see [CentOS\-7 \(2003\) Release Notes](https://wiki.centos.org/Manuals/ReleaseNotes/CentOS7.2003)\.   | May 19, 2020 | 
| [AWS ParallelCluster version 2\.6\.1 released](https://github.com/aws/aws-parallelcluster/releases/tag/v2.6.1) | AWS ParallelCluster version 2\.6\.1 released\.Changes include:  Removed `cfn-init-cmd` and `cfn-wire` from logs stored in Amazon CloudWatch Logs\. For more information, see [Integration with Amazon CloudWatch Logs](cloudwatch-logs.md)\.   | April 17, 2020 | 
| [AWS ParallelCluster version 2\.6\.0 released](https://github.com/aws/aws-parallelcluster/releases/tag/v2.6.0) | AWS ParallelCluster version 2\.6\.0 released\.Changes include:  Added support for Amazon Linux 2\.   Now Amazon CloudWatch Logs is used to collect cluster and scheduler logs\. For more information, see [Integration with Amazon CloudWatch Logs](cloudwatch-logs.md)\.   Added support for new Amazon FSx for Lustre deployment types `SCRATCH_2` and `PERSISTENT_1`\. Support for FSx for Lustre on Ubuntu 18\.04 and Ubuntu 16\.04\. For more information, see [fsx](fsx-section.md)\.   Added support for NICE DCV on Ubuntu 18\.04\. For more information, see [Connect to the head node through NICE DCV](dcv.md)\.   | February 27, 2020 | 
| [AWS ParallelCluster version 2\.5\.1 released](https://github.com/aws/aws-parallelcluster/releases/tag/v2.5.1) | AWS ParallelCluster version 2\.5\.1 released\. | December 13, 2019 | 
| [AWS ParallelCluster version 2\.5\.0 released](https://github.com/aws/aws-parallelcluster/releases/tag/v2.5.0) | AWS ParallelCluster version 2\.5\.0 released\. | November 18, 2019 | 
| [AWS ParallelCluster introduces support for Intel MPI](https://docs.aws.amazon.com/parallelcluster/latest/ug/intelmpi.html) | AWS ParallelCluster version 2\.4\.1 introduces support for Intel MPI\. | July 29, 2019 | 
| [AWS ParallelCluster introduces support for EFA](https://docs.aws.amazon.com/parallelcluster/latest/ug/efa.html) | AWS ParallelCluster version 2\.4\.0 introduces support for Elastic Fabric Adapter \(EFA\)\. | June 11, 2019 | 
| [AWS ParallelCluster documentation released on AWS documentation site](#document_history) | The AWS ParallelCluster documentation is now available in 10 languages and in both HTML and PDF formats\. | May 24, 2018 | 